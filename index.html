<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Which EdTech Shopper Are You?</title>
  <!-- Google Font: Poppins -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    /* --- Root Variables --- */
    :root {
      /* Kawaii Pastel Color Palette from the poster */
      --color-bg-light: #f0f9ff;
      /* Lightest blue */
      --color-bg-dark: #dbeafe;
      /* Light blue */
      --color-primary: #c4b5fd;
      /* Purple */
      --color-secondary: #a7f3d0;
      /* Mint */
      --color-accent: #f9a8d4;
      /* Pink */
      --color-accent-orange: #fcd34d;
      /* Yellow/Orange from poster */
      --color-text: #4b5563;
      /* Dark gray */
      --color-white: #ffffff;

      /* Fonts */
      --font-primary: 'Poppins', sans-serif;
    }

    /* --- Base Styles --- */
    body {
      font-family: var(--font-primary);
      background: linear-gradient(135deg, var(--color-bg-light), var(--color-bg-dark));
      margin: 0;
      padding: 20px;
      /* Added padding for mobile */
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      box-sizing: border-box;
      /* Ensures padding doesn't cause overflow */
    }

    /* --- Main Container --- */
    .story-container {
      background: var(--color-white);
      border-radius: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      max-width: 500px;
      width: 100%;
      /* Was 95%, now 100% to fill padded body */
      text-align: center;
      overflow: hidden;
      /* Hides intro screen overflow */
      box-sizing: border-box;
      /* Include padding in width */
    }

    /* --- NEW: Intro Screen (Poster Style) --- */
    #intro-screen {
      padding: 40px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #f0f9ff, #dbeafe);
      box-sizing: border-box;
      /* Include padding in width */
    }

    .intro-avatar {
      width: 150px;
      /* 20% larger: 125px -> 150px */
      height: 150px;
      /* 20% larger: 125px -> 150px */
      background-color: var(--color-secondary);
      /* Mint */
      border-radius: 25px;
      /* Rounded square */
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3.5rem;
      color: var(--color-white);
      margin-bottom: 20px;
      overflow: hidden;
      /* For image */
    }

    .intro-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    #intro-screen h1 {
      font-size: 3.5rem;
      font-weight: 700;
      color: var(--color-primary);
      background: linear-gradient(135deg, #c4b5fd, #a78bfa);
      /* Purple gradient */
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      margin: 0;
      line-height: 1;
    }

    #intro-screen h2 {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--color-primary);
      margin: 5px 0 15px;
      letter-spacing: 0.5px;
    }

    #intro-screen p {
      font-size: 1rem;
      color: var(--color-primary);
      margin-bottom: 30px;
    }

    .start-button {
      background: linear-gradient(135deg, #c4b5fd, #a78bfa);
      /* Purple gradient */
      color: var(--color-white);
      border: none;
      border-radius: 50px;
      /* Pill shape */
      padding: 15px 40px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px -5px #c4b5fd;
      /* Purple shadow */
    }

    .start-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px -8px #c4b5fd;
    }


    /* --- Quiz Screen --- */
    #quiz-screen {
      display: none;
      /* Hidden by default */
      padding: 40px;
      box-sizing: border-box;
      /* Include padding in width */
    }

    /* --- Progress Bar --- */
    .progress-bar-container {
      width: 100%;
      height: 12px;
      background-color: #eee;
      border-radius: 6px;
      margin-bottom: 30px;
      overflow: hidden;
    }

    #progress-bar {
      width: 0%;
      height: 100%;
      background: linear-gradient(90deg, var(--color-accent), var(--color-accent-orange));
      border-radius: 6px;
      transition: width 0.4s ease;
    }

    /* --- Question & Answers --- */
    .question-container {
      min-height: 80px;
      /* Prevents layout jump */
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .question {
      font-size: 1.15rem;
      font-weight: 600;
      color: var(--color-text);
      line-height: 1.6;
      margin-bottom: 30px;
    }

    .answers {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .answers button {
      background: #f8faff;
      border: 2px solid #e0e7ff;
      border-radius: 15px;
      padding: 18px 20px;
      width: 100%;
      cursor: pointer;
      font-size: 0.95rem;
      font-weight: 500;
      color: var(--color-text);
      text-align: left;
      transition: all 0.3s ease;
      box-sizing: border-box;
      /* Include padding/border in width */
    }

    .answers button:hover {
      background: var(--color-white);
      border-color: var(--color-primary);
      transform: scale(1.02);
      box-shadow: 0 4px 15px rgba(196, 181, 253, 0.4);
    }

    /* --- Result "Card" Styling --- */
    .result-card {
      display: none;
      /* Hidden by default */
      flex-direction: column;
      align-items: center;
      padding: 40px;
      box-sizing: border-box;
      animation: fadeIn 0.8s ease;
      position: relative;
      /* For animation positioning */
    }

    /* This is the inner container for the result content */
    /* We style this to create the card-on-card look */
    [id^="result-"] {
      width: 100%;
      border: 2px solid var(--color-bg-dark);
      border-radius: 20px;
      padding: 30px;
      /* Unified padding */
      background: var(--color-white);
      /* Avatar will sit on top */
      position: relative;
      margin-top: 0;
      /* Avatar sits inside */
      box-sizing: border-box;
      /* Ensure padding is included */
    }

    /* NEW: Container for animations, so avatar isn't clipped */
    .animation-container {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border-radius: 20px;
      /* Match parent */
      overflow: hidden;
      /* This clips the animations */
      z-index: 0;
    }


    .result-avatar {
      width: 150px;
      /* 20% larger: 125px -> 150px */
      height: 150px;
      /* 20% larger: 125px -> 150px */
      background-color: var(--color-secondary);
      border-radius: 25px;
      /* Rounded square */
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3.5rem;
      color: var(--color-white);
      overflow: hidden;
      /* For image */
      margin: 0 auto;
      /* Centers the avatar INSIDE the card */
      margin-bottom: 20px;
      /* Space below avatar */
      position: relative;
      /* To sit above animations */
      z-index: 1;
      /* To sit above animations */
    }

    .result-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .result-card h2 {
      font-size: 1.4rem;
      font-weight: 600;
      color: var(--color-white);
      padding: 12px 20px;
      border-radius: 12px;
      /* Pill shape */
      margin-top: 0;
      /* Reset margin */
      display: inline-block;
      /* Allows background to wrap text */
      z-index: 1;
      /* Above animations */
      position: relative;
      /* For z-index */
    }

    .result-card p {
      font-size: 1rem;
      line-height: 1.7;
      color: var(--color-text);
      margin: 15px 0 30px;
      z-index: 1;
      /* Above animations */
      position: relative;
      /* For z-index */
    }

    .retry-button,
    .other-shoppers-button,
    .back-button {
      border: none;
      border-radius: 50px;
      /* Pill shape */
      padding: 15px 30px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 80%;
      max-width: 300px;
      box-sizing: border-box;
      /* Include padding in width */
    }

    .retry-button {
      background: linear-gradient(135deg, var(--color-accent-orange), #fde047);
      /* Yellow/Orange */
      color: #854d0e;
      /* Dark brown-yellow */
      box-shadow: 0 4px 15px -5px #fcd34d;
      margin-top: 10px;
      /* Was 30px, reduced */
    }

    .retry-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px -8px #fcd34d;
    }

    .other-shoppers-button {
      background: linear-gradient(135deg, var(--color-primary), #a78bfa);
      /* Purple */
      color: var(--color-white);
      box-shadow: 0 4px 15px -5px #c4b5fd;
      margin-top: 15px;
      /* Add space */
    }

    .other-shoppers-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px -8px #c4b5fd;
    }


    /* Custom styles for each result card, pastel theme */
    #result-moe h2 {
      background-color: #a78bfa;
    }

    /* Purple */
    #result-convenience h2 {
      background-color: #6ee7b7;
    }

    /* Mint */
    #result-more h2 {
      background-color: #f472b6;
    }

    /* Pink */
    #result-hybrid h2 {
      background-color: #f9a8d4;
    }

    /* Pink */

    /* --- NEW: "All Shoppers" Screen --- */
    #all-shoppers-screen {
      display: none;
      /* Hidden by default */
      padding: 40px;
      box-sizing: border-box;
      animation: fadeIn 0.8s ease;
    }

    #all-shoppers-screen h2 {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--color-primary);
      margin-top: 0;
      margin-bottom: 30px;
    }

    .all-shoppers-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      /* 2 columns */
      gap: 20px;
      margin-bottom: 30px;
    }

    /* Responsive grid: 1 column on small screens */
    @media (max-width: 480px) {
      .all-shoppers-grid {
        grid-template-columns: repeat(1, 1fr);
      }
    }

    .mini-card {
      background: #f8faff;
      border: 2px solid #e0e7ff;
      border-radius: 20px;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .mini-card-avatar {
      width: 80px;
      height: 80px;
      border-radius: 20px;
      /* Rounded square */
      background-color: var(--color-secondary);
      margin-bottom: 15px;
      overflow: hidden;
    }

    .mini-card-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .mini-card h3 {
      font-size: 0.95rem;
      font-weight: 600;
      color: var(--color-text);
      line-height: 1.3;
      margin: 0;
      /* Reset margin */
    }

    /* --- NEW: Style for mini-card description --- */
    .mini-card p {
      font-size: 0.85rem;
      /* Make it small */
      color: var(--color-text);
      line-height: 1.4;
      margin-top: 8px;
      /* Add some space */
      margin-bottom: 0;
      /* Reset margin */
    }


    /* Back Button (styled like retry button) */
    .back-button {
      background: linear-gradient(135deg, var(--color-accent-orange), #fde047);
      /* Yellow/Orange */
      color: #854d0e;
      /* Dark brown-yellow */
      box-shadow: 0 4px 15px -5px #fcd34d;
    }

    .back-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px -8px #fcd34d;
    }


    /* --- Animations --- */
    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    /* This keyframe defines the "float down" animation */
    @keyframes floatDown {
      0% {
        transform: translateY(0);
        opacity: 1;
      }

      100% {
        /* Float all the way down and off the bottom */
        transform: translateY(600px);
        opacity: 0;
      }
    }

    /* This is the style for a single floating item (a bag or sparkle) */
    .floating-item {
      position: absolute;
      top: -50px;
      /* Start from just ABOVE the card */
      font-size: 1.5rem;
      opacity: 0;
      /* Run the new floatDown animation */
      animation: floatDown 7s linear;
      animation-fill-mode: forwards;
      z-index: 0;
      /* Keep it behind the text */
    }
  </style>
</head>

<body>
  <!-- Main container for the app -->
  <div class="story-container">

    <!-- NEW: Intro Screen, styled to look like the poster -->
    <div id="intro-screen">
      <!-- Avatar will be set by JS -->
      <div class="intro-avatar" id="intro-avatar-container">( ·¥ó )</div>
      <h1>11:11</h1>
      <h2>EDTECH SUPER SALE!</h2>
      <p>FIND YOUR SHOPPING STYLE!</p>
      <button id="start-quiz-button" class="start-button">
        START QUIZ! &#9200; <!-- Alarm clock icon -->
      </button>
    </div>

    <!-- This div holds the quiz questions -->
    <div id="quiz-screen">
      <div class="progress-bar-container">
        <div id="progress-bar"></div>
      </div>
      <div id="quiz-content">
        <div class="question-container">
          <p class="question" id="question-text"></p>
        </div>
        <div class="answers" id="answer-buttons"></div>
      </div>
    </div>

    <!-- This div holds the final result "card" -->
    <div id="result" class="result-card"></div>

    <!-- --- NEW: This div holds the "All Shoppers" page --- -->
    <div id="all-shoppers-screen">
      <h2>Meet the Shoppers!</h2>
      <div class="all-shoppers-grid" id="all-shoppers-grid">
        <!-- Mini-cards will be injected by JS -->
      </div>
      <button class="back-button" onclick="backToResult()">Back to My Result</button>
    </div>

  </div>

  <script>
    // --- EXISTING: DOM Element Selection ---
    const introScreen = document.getElementById('intro-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const startQuizButton = document.getElementById('start-quiz-button');
    const progressBar = document.getElementById('progress-bar');
    const questionText = document.getElementById('question-text');
    const answerButtons = document.getElementById('answer-buttons');
    const resultContainer = document.getElementById('result');
    const quizContentContainer = document.getElementById('quiz-content');
    const introAvatarContainer = document.getElementById('intro-avatar-container');
    const allShoppersScreen = document.getElementById('all-shoppers-screen');
    const allShoppersGrid = document.getElementById('all-shoppers-grid');

    // --- NEW: Configurable Image URL for Intro ---
    // Leave as "" to use the default text avatar ( ·¥ó )
    // Or, set to a URL like "intro-cat.png"
    const introImageUrl = "intro-cat.png";

    // --- NEW: Master list of all shopper types ---
    // This is now the single source of truth for all result data
    const allShopperTypes = {
      moe: {
        id: "moe",
        title: "üíô You‚Äôre the ‚ÄúMOE-mall‚Äù Shopper!",
        shortTitle: "‚ÄúMOE-mall‚Äù Shopper",
        message: "You love trusted, curriculum-aligned gems and the safety of MOE-endorsed tools!",
        avatar: "revised-safe-shopper-cat.png"
      },
      convenience: {
        id: "convenience",
        title: "üéØ You‚Äôre the ‚ÄúI want diversity through SLS‚Äù Shopper!",
        shortTitle: "‚ÄúI want diversity through SLS‚Äù Shopper",
        message: "You thrive when everything just works seamlessly through SLS ‚Äì efficiency is your superpower!",
        avatar: "revised-convenience-cat.png"
      },
      more: {
        id: "more",
        title: "üõçÔ∏è You‚Äôre the ‚ÄúMore is More‚Äù Shopper!",
        shortTitle: "‚ÄúMore is More‚Äù Shopper",
        message: "You love exploring every corner of EdTech, building your own vibrant EdTech ecosystem!",
        avatar: "revised-more-more-more-cat.png"
      },
      hybrid: {
        id: "hybrid",
        title: "üí´ You‚Äôre the ‚ÄúMega Bundle‚Äù Shopper!",
        shortTitle: "‚ÄúMega Bundle‚Äù Shopper",
        message: "You blend the best of all worlds ‚Äì balancing trusted SLS tools, seamless integrations, and your adventurous EdTech spirit!",
        avatar: "bundle-boss-cat.png"
      }
    };

    // --- EXISTING: Quiz variables ---
    const quizData = [{
      question: "You‚Äôre shopping for EdTech tool or resource to use in your next term‚Äôs lessonsüì±üí• What do you do first?",
      answers: {
        moe: "Check out MOE library for those golden lesson treasures that tick all the curriculum boxes.",
        convenience: "Check out the list of whitelisted tools.",
        more: "Go wild browsing everywhere for the most exciting and appropriate EdTech tools."
      }
    }, {
      question: "Oooh, a shiny new teaching tool on sale ‚ú® What pops into your head first?",
      answers: {
        moe: "Are they as good as what MOE develops? (Is this pedagogically sound and does it align with MOE standards?)",
        convenience: "Sweet! Can my students use this without hopping out of SLS?",
        more: "This looks amazing! Let me explore it now!"
      }
    }, {
      question: "AI ASSISTANT BONANZA! ü§ñ You are looking for a \"smart\" EdTech tool to be your ultimate classroom sidekick. Which wins your heart?",
      answers: {
        moe: "This AI tool in SLS was developed by MOE. Looks good! I also have ready resources and guide that can help with use.",
        convenience: "This AI assistant can be embedded in SLS! This is the one for me!",
        more: "Let me try them for myself! Then, I'll see if they can be part of my lesson."
      }
    }, {
      question: "Collaboration revolution alert! üöÄ Your students need the ultimate group project experience. What tools are calling your name?",
      answers: {
        moe: "SLS tools. They support everything from brainstorming to final presentation.",
        convenience: "Collaboration tools that nestle perfectly within SLS.",
        more: "A dynamic mix of apps for ideation, project management and presentation - my students can use them all!"
      }
    }, {
      question: "Multimedia deals! üé¨ Time to transform learning with visual simulations. What do you grab?",
      answers: {
        moe: "Trusted media gems from MOE library & Community Gallery that slot perfectly into lessons every time!",
        convenience: "Third-party visual goodies that complement SLS lessons for a comprehensive learning experience all in place!",
        more: "A little bit of everything! I love to customise to suit my lesson needs."
      }
    }, {
      question: "MEGA DEAL: Gamified lesson bundles promise 300% more participation! üéØ What grabs your attention?",
      answers: {
        moe: "SLS customisable gamification feature that can be generated by Authoring Copilot.",
        convenience: "External tool that provide unique gamified learning experience while maintaining my lesson flow on SLS.",
        more: "Trending gamification tools that are the talk-of-the-town!"
      }
    }, {
      question: "Feedback revolution time! üí´ Use AI-powered tools to provide customised feedback to students. Which AI powered tool tempts you?",
      answers: {
        moe: " SLS AI learning feedback assistants that deliver personalised and customised responses. I can even adapt existing rubrics in SLS.",
        convenience: "Feedback tools that fit neatly into SLS lessons which are still convenient to use.",
        more: "A mega bundle of feedback assistants (one for every assignment) until I find the best!"
      }
    }, ];

    let currentQuestion = 0;
    let scores = {
      moe: 0,
      convenience: 0,
      more: 0
    };

    // --- NEW: Function to handle Intro Avatar ---
    function setupIntroAvatar() {
      if (introImageUrl) {
        introAvatarContainer.innerHTML = `<img src="${introImageUrl}" alt="Intro Avatar">`;
        introAvatarContainer.style.backgroundColor = 'transparent'; // Remove bg if image is used
      } else {
        introAvatarContainer.innerHTML = '( ·¥ó )';
        introAvatarContainer.style.backgroundColor = 'var(--color-secondary)';
      }
    }

    // --- NEW: Event Listener for Start Button ---
    startQuizButton.addEventListener('click', () => {
      introScreen.style.display = 'none';
      quizScreen.style.display = 'block';
      loadQuestion();
    });

    // --- NEW: Function to shuffle an array (Fisher-Yates) ---
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // --- EXISTING: Load Question (Updated) ---
    function loadQuestion() {
      if (currentQuestion < quizData.length) {
        // Update Progress Bar
        const progress = ((currentQuestion + 1) / quizData.length) * 100;
        progressBar.style.width = `${progress}%`;

        const q = quizData[currentQuestion];
        questionText.innerText = q.question;
        answerButtons.innerHTML = ''; // Clear old answers

        // --- NEW: Shuffle answer keys ---
        const answerKeys = shuffleArray(Object.keys(q.answers));

        // Create buttons based on shuffled order
        answerKeys.forEach(key => {
          const button = document.createElement('button');
          button.innerText = q.answers[key];
          button.addEventListener('click', () => selectAnswer(key));
          answerButtons.appendChild(button);
        });
      } else {
        // --- NEW: Hide quiz, show result ---
        quizScreen.style.display = 'none';
        resultContainer.style.display = 'flex'; // Use flex to match .result-card style
        showResult();
      }
    }

    // --- EXISTING: Select Answer (No change) ---
    function selectAnswer(type) {
      scores[type]++;
      currentQuestion++;
      loadQuestion();
    }

    // --- EXISTING: Show Result (Updated) ---
    function showResult() {
      const maxScore = Math.max(scores.moe, scores.convenience, scores.more);
      const topCategories = Object.keys(scores).filter(k => scores[k] === maxScore && k !== 'hybrid');

      let resultId = '';

      if (topCategories.length > 1) {
        // Tie goes to hybrid
        resultId = 'hybrid';
      } else {
        // Clear winner
        const topCat = topCategories[0];
        if (topCat === 'moe') {
          resultId = 'moe';
        } else if (topCat === 'convenience') {
          resultId = 'convenience';
        } else {
          resultId = 'more';
        }
      }

      // Get the result data from our master list
      const userResult = allShopperTypes[resultId];

      // --- REVERTED: Simplified HTML for main result card ONLY ---
      resultContainer.innerHTML = `
        <div id="result-${userResult.id}">
          <div class="animation-container"></div> <!-- NEW container for animations -->
          <div class="result-avatar">
            <img src="${userResult.avatar}" alt="${userResult.title}">
          </div>
          <h2>${userResult.title}</h2>
          <p>${userResult.message}</p>
        </div>
        <button class="retry-button" onclick="restartQuiz()">Try Again! ‚Üª</button>
        <button class="other-shoppers-button" onclick="showAllShoppers()">Meet the Other Shoppers!</button>
      `;

      // --- NEW: Build the "All Shoppers" page (but keep it hidden) ---
      let allShoppersHTML = '';
      for (const key in allShopperTypes) {
        const shopper = allShopperTypes[key];
        allShoppersHTML += `
          <div class="mini-card">
            <div class="mini-card-avatar">
              <img src="${shopper.avatar}" alt="${shopper.shortTitle}">
            </div>
            <h3>${shopper.shortTitle}</h3>
            <p>${shopper.message}</p>
          </div>
        `;
      }
      allShoppersGrid.innerHTML = allShoppersHTML;


      // --- NEW: Trigger animations ---
      // Find the animation container that was just created
      const animationContainer = resultContainer.querySelector(".animation-container");
      if (animationContainer) {

        // Create 15 floating items
        for (let i = 0; i < 15; i++) {
          const item = document.createElement('div');
          item.className = 'floating-item';

          // Use the shopping bag üõçÔ∏è icon for the "More" result
          if (resultId === 'more') {
            item.innerText = 'üõçÔ∏è';
          } else {
            item.innerText = '‚ú®'; // Sparkles for other results
          }

          // Randomize the item's horizontal start, delay, and speed
          item.style.left = `${Math.random() * 100}%`;
          item.style.animationDelay = `${Math.random() * 5}s`;
          item.style.animationDuration = `${5 + Math.random() * 5}s`; // 5-10s duration

          // Add the new item to the animation container
          animationContainer.appendChild(item);
        }
      }
    }

    // --- NEW: Function to restart quiz ---
    function restartQuiz() {
      // Reset scores and question
      scores = {
        moe: 0,
        convenience: 0,
        more: 0
      };
      currentQuestion = 0;
      progressBar.style.width = '0%';

      // Hide results, show intro screen
      resultContainer.style.display = 'none';
      allShoppersScreen.style.display = 'none'; // Also hide this screen
      introScreen.style.display = 'flex'; // Use flex to match intro-screen style

      // Reset intro avatar (in case it was an image)
      setupIntroAvatar();
    }

    // --- NEW: Functions to toggle "All Shoppers" screen ---
    function showAllShoppers() {
      resultContainer.style.display = 'none';
      allShoppersScreen.style.display = 'block';
    }

    function backToResult() {
      allShoppersScreen.style.display = 'none';
      resultContainer.style.display = 'flex'; // Use flex
    }

    // --- NEW: Initial setup call ---
    setupIntroAvatar(); // Run this on page load
  </script>
</body>

</html>
